# Esquema de Base de Datos - Sistema de Asistencia AgrÃ­cola Inteligente

## Diagrama de Entidades y Relaciones

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    USUARIOS                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ users                                                                                   â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ nombre (VARCHAR(100))                                                               â”‚
â”‚ â”œâ”€â”€ apellidos (VARCHAR(100))                                                            â”‚
â”‚ â”œâ”€â”€ correo (VARCHAR(255), UNIQUE)                                                       â”‚
â”‚ â”œâ”€â”€ edad (INT)                                                                          â”‚
â”‚ â”œâ”€â”€ password (VARCHAR(255))                                                             â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â”‚ 1:N
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                   PARCELAS                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ parcelas                                                                                â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ user_id (FK â†’ users.id)                                                             â”‚
â”‚ â”œâ”€â”€ nombre (VARCHAR(100))                                                               â”‚
â”‚ â”œâ”€â”€ descripcion (TEXT)                                                                  â”‚
â”‚ â”œâ”€â”€ area_hectareas (DECIMAL(10,4))                                                      â”‚
â”‚ â”œâ”€â”€ tipo_suelo (VARCHAR(100))                                                           â”‚
â”‚ â”œâ”€â”€ sistema_riego (VARCHAR(20)) [note: 'goteo, aspersion, inundacion, ninguno']        â”‚
â”‚ â”œâ”€â”€ activa (BOOLEAN, DEFAULT true)                                                      â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â”‚ 1:N
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                   CULTIVOS                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ cultivos                                                                                â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ parcela_id (FK â†’ parcelas.id)                                                       â”‚
â”‚ â”œâ”€â”€ tipo_cultivo (VARCHAR(100)) -- maÃ­z, trigo, tomate, etc.                          â”‚
â”‚ â”œâ”€â”€ variedad (VARCHAR(100))                                                             â”‚
â”‚ â”œâ”€â”€ fecha_siembra (DATE)                                                                â”‚
â”‚ â”œâ”€â”€ fecha_cosecha_estimada (DATE)                                                       â”‚
â”‚ â”œâ”€â”€ fecha_cosecha_real (DATE, NULL)                                                     â”‚
â”‚ â”œâ”€â”€ area_sembrada (DECIMAL(10,4)) -- hectÃ¡reas                                         â”‚
â”‚ â”œâ”€â”€ estado (VARCHAR(20)) -- sembrado, germinando, creciendo, etc.                      â”‚
â”‚ â”œâ”€â”€ rendimiento_esperado (DECIMAL(10,2)) -- kg/hectÃ¡rea                                â”‚
â”‚ â”œâ”€â”€ rendimiento_real (DECIMAL(10,2), NULL)                                             â”‚
â”‚ â”œâ”€â”€ activo (BOOLEAN, DEFAULT true)                                                      â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â”‚ 1:N
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ACTIVIDADES AGRÃCOLAS                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ actividades_agricolas                                                                   â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ cultivo_id (FK â†’ cultivos.id)                                                       â”‚
â”‚ â”œâ”€â”€ tipo_actividad (VARCHAR(30)) -- siembra, riego, fertilizacion, etc.               â”‚
â”‚ â”œâ”€â”€ fecha_programada (DATE)                                                             â”‚
â”‚ â”œâ”€â”€ fecha_realizada (DATE, NULL)                                                        â”‚
â”‚ â”œâ”€â”€ descripcion (TEXT)                                                                  â”‚
â”‚ â”œâ”€â”€ cantidad_aplicada (DECIMAL(10,2), NULL) -- litros, kg, etc.                       â”‚
â”‚ â”œâ”€â”€ costo (DECIMAL(10,2), NULL)                                                         â”‚
â”‚ â”œâ”€â”€ estado (VARCHAR(20)) -- programada, en_proceso, completada, cancelada              â”‚
â”‚ â”œâ”€â”€ observaciones (TEXT)                                                                â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                DATOS METEOROLÃ“GICOS                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ datos_meteorologicos                                                                    â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ parcela_id (FK â†’ parcelas.id)                                                       â”‚
â”‚ â”œâ”€â”€ fecha (DATE)                                                                        â”‚
â”‚ â”œâ”€â”€ datos_clima (JSON) -- Datos completos de la API meteorolÃ³gica                      â”‚
â”‚ â”œâ”€â”€ resumen_diario (TEXT) -- Resumen en lenguaje natural del clima del dÃ­a            â”‚
â”‚ â”œâ”€â”€ alerta_clima (BOOLEAN, DEFAULT false)                                               â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 GASTOS E INGRESOS                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ transacciones_financieras                                                               â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ cultivo_id (FK â†’ cultivos.id)                                                       â”‚
â”‚ â”œâ”€â”€ actividad_id (FK â†’ actividades_agricolas.id, NULL)                                 â”‚
â”‚ â”œâ”€â”€ tipo (VARCHAR(10)) -- gasto, ingreso                                               â”‚
â”‚ â”œâ”€â”€ categoria (VARCHAR(100)) -- semillas, fertilizantes, mano_obra, venta, etc.       â”‚
â”‚ â”œâ”€â”€ descripcion (TEXT)                                                                  â”‚
â”‚ â”œâ”€â”€ monto (DECIMAL(12,2))                                                               â”‚
â”‚ â”œâ”€â”€ fecha (DATE)                                                                        â”‚
â”‚ â”œâ”€â”€ metodo_pago (VARCHAR(50))                                                           â”‚
â”‚ â”œâ”€â”€ comprobante_url (VARCHAR(500), NULL)                                                â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CONVERSACIONES DEL CHATBOT                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ conversaciones                                                                          â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ user_id (FK â†’ users.id)                                                             â”‚
â”‚ â”œâ”€â”€ titulo (VARCHAR(255))                                                               â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â”‚ 1:N
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                   MENSAJES                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ mensajes                                                                                â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ conversacion_id (FK â†’ conversaciones.id)                                           â”‚
â”‚ â”œâ”€â”€ rol (VARCHAR(10)) -- user, assistant                                               â”‚
â”‚ â”œâ”€â”€ contenido (TEXT)                                                                    â”‚
â”‚ â”œâ”€â”€ metadata (JSON, NULL) -- informaciÃ³n adicional del contexto                       â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 PROGRAMACIÃ“N DE RIEGO                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ programacion_riego                                                                      â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ cultivo_id (FK â†’ cultivos.id)                                                       â”‚
â”‚ â”œâ”€â”€ fecha_programada (DATETIME)                                                         â”‚
â”‚ â”œâ”€â”€ tipo_riego (VARCHAR(50))                                                            â”‚
â”‚ â”œâ”€â”€ estado (VARCHAR(20)) -- programado, ejecutado, cancelado                           â”‚
â”‚ â”œâ”€â”€ fecha_ejecutado (DATETIME, NULL)                                                    â”‚
â”‚ â”œâ”€â”€ observaciones (TEXT)                                                                â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                PREDICCIONES DE RENDIMIENTO                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ predicciones_rendimiento                                                                â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ cultivo_id (FK â†’ cultivos.id)                                                       â”‚
â”‚ â”œâ”€â”€ fecha_prediccion (DATE)                                                             â”‚
â”‚ â”œâ”€â”€ rendimiento_predicho (DECIMAL(10,2)) -- kg/hectÃ¡rea                                â”‚
â”‚ â”œâ”€â”€ confianza_prediccion (DECIMAL(5,2)) -- porcentaje 0-100                           â”‚
â”‚ â”œâ”€â”€ factores_considerados (JSON) -- clima, suelo, historial, etc.                     â”‚
â”‚ â”œâ”€â”€ algoritmo_usado (VARCHAR(100))                                                      â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CONFIGURACIONES DEL USUARIO                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ configuraciones_usuario                                                                 â”‚
â”‚ â”œâ”€â”€ id (PK, INT, AUTO_INCREMENT)                                                        â”‚
â”‚ â”œâ”€â”€ user_id (FK â†’ users.id, UNIQUE)                                                     â”‚
â”‚ â”œâ”€â”€ notificaciones_email (BOOLEAN, DEFAULT true)                                       â”‚
â”‚ â”œâ”€â”€ notificaciones_push (BOOLEAN, DEFAULT true)                                        â”‚
â”‚ â”œâ”€â”€ dashboard_config (JSON) -- configuraciÃ³n personalizada del dashboard              â”‚
â”‚ â”œâ”€â”€ created_at (TIMESTAMP)                                                              â”‚
â”‚ â””â”€â”€ updated_at (TIMESTAMP)                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Relaciones Principales

### 1. Usuario â†’ Parcelas (1:N)
- Un usuario puede tener mÃºltiples parcelas
- Cada parcela pertenece a un solo usuario

### 2. Parcela â†’ Cultivos (1:N)
- Una parcela puede tener mÃºltiples cultivos (rotaciÃ³n de cultivos)
- Cada cultivo pertenece a una sola parcela

### 3. Cultivo â†’ Actividades AgrÃ­colas (1:N)
- Un cultivo puede tener mÃºltiples actividades (riego, fertilizaciÃ³n, etc.)
- Cada actividad estÃ¡ asociada a un cultivo especÃ­fico

### 4. Cultivo â†’ Transacciones Financieras (1:N)
- Un cultivo puede tener mÃºltiples gastos e ingresos asociados
- Cada transacciÃ³n estÃ¡ vinculada a un cultivo especÃ­fico

### 5. Usuario â†’ Conversaciones (1:N)
- Un usuario puede tener mÃºltiples conversaciones con el chatbot
- Cada conversaciÃ³n pertenece a un solo usuario

### 6. ConversaciÃ³n â†’ Mensajes (1:N)
- Una conversaciÃ³n puede tener mÃºltiples mensajes
- Cada mensaje pertenece a una conversaciÃ³n especÃ­fica

## CaracterÃ­sticas Clave del DiseÃ±o

### ğŸŒ± **GestiÃ³n Integral de Cultivos**
- Seguimiento completo desde siembra hasta cosecha
- Registro de actividades agrÃ­colas con fechas programadas y reales
- Control de rendimientos esperados vs reales

### ğŸ’° **Control Financiero Detallado**
- Registro de gastos e ingresos por cultivo
- CategorizaciÃ³n de transacciones
- Soporte para comprobantes digitales

### ğŸ¤– **Sistema de Chatbot Inteligente**
- Historial completo de conversaciones
- Metadata para contexto adicional
- Estructura escalable para mÃºltiples conversaciones

### ğŸŒ¦ï¸ **IntegraciÃ³n MeteorolÃ³gica**
- Datos climÃ¡ticos de API almacenados en JSON
- ResÃºmenes diarios en lenguaje natural
- Sistema de alertas climÃ¡ticas integrado

### ğŸ’§ **OptimizaciÃ³n de Riego**
- ProgramaciÃ³n inteligente de riego
- Seguimiento de ejecuciÃ³n
- IntegraciÃ³n con datos meteorolÃ³gicos

### ğŸ“Š **Predicciones y AnÃ¡lisis**
- Algoritmos de predicciÃ³n de rendimiento
- Factores considerados almacenados en JSON
- Niveles de confianza de las predicciones

### âš™ï¸ **PersonalizaciÃ³n**
- Configuraciones especÃ­ficas por usuario
- Dashboard personalizable
- Preferencias de notificaciones

Este esquema estÃ¡ diseÃ±ado para ser escalable, eficiente y cubrir todos los requerimientos funcionales del sistema de asistencia agrÃ­cola inteligente, con un enfoque especial en la integraciÃ³n de APIs externas para datos meteorolÃ³gicos.